## ArrayList

ArrayListì˜ ìƒì†ê´€ê³„

<aside>
ğŸ’¡ java.lang.Object
- java.util.AbstractCollection<E>
 - java.util.AbstractList<E>
   - java.util.ArrayList<E>

</aside>

### ìƒì„±ì

```java
1. public ArrayList()
ê°ì²´ë¥¼ ì €ì¥í•  ê³µê°„ì´ 10ê°œì¸ ArrayList ìƒì„±

2. public ArrayList(Collection<? extends E> c)
ë§¤ê°œë³€ìˆ˜ë¡œ ë„˜ì–´ì˜¨ ì»¬ë ‰ì…˜ ê°ì²´ê°€ ì €ì¥ë˜ì–´ ìˆëŠ” ArrayListë¥¼ ìƒì„±

3. public ArrayList(int initialCapacity)
ë§¤ê°œë³€ì„œë£¨ ë„˜ì–´ì˜¨ ê°œìˆ˜ë§Œí¼ ì €ì¥ê³µê°„ì„ ê°–ëŠ” ArrayList ìƒì„±
```

### ğŸ’¡Â ArrayListì˜ ë””í´íŠ¸ í¬ê¸°ëŠ” 10

# ArrayList ìƒì„± í›„ í¬ê¸°ê°€ 10ì„ ë„˜ì–´ê°€ê²Œ ë˜ë©´ ë¬´ìŠ¨ì¼ì´ ì¼ì–´ë‚ ê¹Œ?

arrayList.add(o) ê°€ ì‹¤í–‰ë˜ë©´

ë‚´ë¶€ì ìœ¼ë¡œ

```java
public boolean add(E e) {
        modCount++;
        add(e, elementData, size);  // ì˜¤ë²„ë¡œë”©ëœ ë©”ì„œë“œ í˜¸ì¶œ
        return true;
    }
    
    // element(ë°ì´í„°)ë¥¼ ì¶”ê°€í•˜ëŠ” ë©”ì„œë“œ
//sëŠ” ë°°ì—´ì— ë“¤ì–´ìˆëŠ” ë°ì´í„°ì˜ ê°¯ìˆ˜ 
    private void add(E e, Object[] elementData, int s) {
        if (s == elementData.length){  // ë°°ì—´ì— ë°ì´í„°ê°€ ê½‰ ì°¼ëŠ”ì§€ ì²´í¬
            elementData = grow();  // ì°¼ë‹¤ë©´, ë°°ì—´ì˜ ì‚¬ì´ì¦ˆë¥¼ í™•ì¥ !
        }
        elementData[s] = e;  // ë°ì´í„° ì¶”ê°€
        size = s + 1;
    }
```

### **add Methodì˜ ì‘ì—…íë¦„**

1. ArrayListì˜ Object ë°°ì—´ì— elementê°€ ê½‰ ì°¼ëŠ”ì§€ ì²´í¬í•œë‹¤. (= capacityì™€ elementì˜ ê°¯ìˆ˜ê°€ ë™ì¼í•œì§€ ì²´í¬)
    - ë°°ì—´ì— ë°ì´í„°ê°€ ê°€ë“ ì°¼ìœ¼ë©´, ë°°ì—´ì˜ ì‚¬ì´ì¦ˆë¥¼ í™•ì¥í•˜ëŠ” grow Method í˜¸ì¶œ
2. ë°ì´í„°ë¥¼ ì¶”ê°€í•œë‹¤.

add()ëŠ” ê¶ê·¹ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì¶”ê°€í•˜ëŠ” ì—­í• ì„ ìˆ˜í–‰í•˜ëŠ” ë©”ì„œë“œì´ì§€ë§Œ,

ì¶”ê°€í•˜ë ¤ëŠ” elementë¥¼ ì €ì¥í•  ê³µê°„ì´ ë‚¨ì•„ìˆëŠ”ì§€ ì²´í¬í•´ì„œ,

ì €ì¥í•  ê³µê°„ì´ ë‚¨ì•„ìˆìœ¼ë©´ ë°ì´í„° ì¶”ê°€í•˜ëŠ” ì—­í• ë§Œ ìˆ˜í–‰í•˜ê³ 

ì €ì¥í•  ê³µê°„ì´ ì—†ìœ¼ë©´ ì €ì¥ê³µê°„ì„ ëŠ˜ë¦¬ê¸° ìœ„í•œ ë˜ ë‹¤ë¥¸ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ì—­í• ë„ ìˆ˜í–‰í•œë‹¤.

## **grow Method**

```java
Â Â Â Â private Object[] grow() {
Â Â Â Â Â Â Â Â return grow(size + 1);// ì˜¤ë²„ë¡œë”©ëœ ë©”ì„œë“œ í˜¸ì¶œ
Â Â Â Â }

// í¬ê¸°ê°€ newCapacity(minCapacity)ê°œì¸ ë°°ì—´ì„ ìƒˆë¡œ ìƒì„±í•˜ê³ , elementData ë°°ì—´ì„ ë³µì‚¬
Â Â Â Â private Object[] grow(int minCapacity) {
Â Â Â Â Â Â Â Â return elementData = Arrays.copyOf(elementData,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  newCapacity(minCapacity));
Â Â Â Â }
```

### **grow Methodì˜ ì‘ì—…íë¦„**

1. newCapacity ë©”ì„œë“œë¥¼ í˜¸ì¶œí•´ì„œ, í™•ì¥í•  í¬ê¸°ë¥¼ ë¦¬í„´ë°›ëŠ”ë‹¤.
2. Arrays.copyOf ë©”ì„œë“œë¥¼ ì‚¬ìš©í•´ì„œ, ë¦¬í„´ë°›ì€ newCapacity(minCapacity)ë§Œí¼ì˜ ê¸¸ì´ë¥¼ ê°€ì§„ ìƒˆë¡œìš´ ë°°ì—´ì„ ìƒì„±í•˜ê³ ê¸°ì¡´ ë°°ì—´ì„ ë³µì‚¬í•œë‹¤.

## **newCapacity Method**

```java
// capacityì™€ sizeê°€ ê°™ì„ ë•Œ, ìƒˆë¡œìš´ capacityë¥¼ ë¶€ì—¬í•˜ëŠ” ë©”ì„œë“œ
Â Â Â Â private int newCapacity(int minCapacity) {
// overflow-conscious code
Â Â Â Â Â Â Â Â int oldCapacity = elementData.length;

Â Â Â Â Â Â Â Â int newCapacity = oldCapacity + (oldCapacity >> 1);// í˜„ì¬ capacityì˜ 1.5ë°° ì¦ê°€í•œ ê°’ì„ ë„£ì–´ì¤€ë‹¤.
Â Â Â Â Â Â Â Â if (newCapacity - minCapacity <= 0) {
Â Â Â Â Â Â Â Â Â Â Â Â if (elementData == DEFAULTCAPACITY_EMPTY_ELEMENTDATA)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â return Math.max(DEFAULT_CAPACITY, minCapacity);
Â Â Â Â Â Â Â Â Â Â Â Â if (minCapacity < 0)// overflow
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â throw new OutOfMemoryError();
Â Â Â Â Â Â Â Â Â Â Â Â return minCapacity;
Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â return (newCapacity - MAX_ARRAY_SIZE <= 0)
Â Â Â Â Â Â Â Â Â Â Â Â ? newCapacity
Â Â Â Â Â Â Â Â Â Â Â Â : hugeCapacity(minCapacity);
Â Â Â Â }
```

### **grow Methodì˜ ì‘ì—…íë¦„**

- ë¹„íŠ¸ ì—°ì‚°ì„ í†µí•´ oldCapacityì—ì„œ 1.5ë°° ì¦ê°€ëœ newCapacityë¥¼ ë¦¬í„´í•œë‹¤.

---

## **ì •ë¦¬**

ArrayListëŠ” ë‚´ë¶€ì ìœ¼ë¡œ Object ë°°ì—´ì„ ê°€ì§€ê³ , add ë©”ì„œë“œ ì‹¤í–‰ì‹œë§ˆë‹¤ capacity==sizeë¥¼ ì²´í¬í•œë‹¤.

ê°™ìœ¼ë©´ capacity ì‚¬ì´ì¦ˆë¥¼ 1.5ë°° ì¦ê°€ì‹œí‚¨ ë’¤ ë°ì´í„°ë¥¼ addí•˜ê³ ,

ê°™ì§€ ì•Šìœ¼ë©´ ë°ì´í„° addë§Œ ìˆ˜í–‰í•œë‹¤.

ê·¸ëŸ¬ë¯€ë¡œ, ArrayList ê°ì²´ë¥¼ ìƒì„±í•  ë•Œ ë‹´ì„ ë°ì´í„°ì˜ í¬ê¸°ë¥¼ ê³ ë ¤í•´ì„œ initialCapacityë¥¼ ì§€ì •í•´ ì£¼ëŠ” ê²ƒì´ ì„±ëŠ¥ìƒ í›¨ì”¬ ì¢‹ë‹¤.
